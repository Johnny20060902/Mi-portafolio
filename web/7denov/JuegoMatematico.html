<!doctype html>
<html lang="en">
<head>
    <title>Juego Matemático</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <script src="jq/jquery-3.7.1.min.js"></script>
    <style>
        #result {
            display: none;
            font-size: 24px;
            text-align: center;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <!-- Aun me falta -->
    <header class="text-center">
        <h1>JUEGO MATEMÁTICO</h1>
    </header>
    <main class="container">
        <div class="text-center">
            <img id="miImagen" src="img/1.png" height="200px" width="500px">
        </div>
        <br>
        <p class="text-center"><b>¿Está tu número en mente en esta imagen?</b></p>
        <div class="row">
            <div class="col-6">
                <button id="si" type="button" class="btn btn-primary col-12">Sí</button>
            </div>
            <div class="col-6">
                <button id="no" type="button" class="btn btn-danger col-12">No</button>
            </div>
        </div>
        <br>
        <div class="row">
            <div class="col-12">
                <button id="next" type="button" class="btn btn-primary col-12">Siguiente</button>
            </div>
        </div>
        <div id="result" class="text-success"></div>
    </main>
    <script>
        $(document).ready(function () {
            var images = [
                { src: "img/1.png", numbers: [1, 3, 5, 7, 9, 11, 13, 15, 17, 19, 21, 23, 25, 27, 29] },
                { src: "img/2.png", numbers: [2, 3, 6, 7, 10, 11, 14, 15, 18, 19, 22, 23, 26, 27, 30] },
                { src: "img/3.png", numbers: [4, 5, 6, 7, 12, 13, 14, 15, 20, 21, 22, 23, 28, 29, 30] },
                { src: "img/4.png", numbers: [8, 9, 10, 11, 12, 13, 14, 15, 24, 25, 26, 27, 28, 29, 30] },
                { src: "img/5.png", numbers: [16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30] }
            ];
            var currentIndex = 0;
            var possibleNumbers = [];

            function showNextImage() {
                currentIndex++;
                if (currentIndex < images.length) {
                    $("#miImagen").attr("src", images[currentIndex].src);
                } else {
                    $("#miImagen").hide();
                    $("#result").text("El número en tu mente es: " + possibleNumbers[0]).show();
                    $("#si, #no, #next").hide();
                }
            }

            $("#si").click(function () {
                if (currentIndex === 0) {
                    possibleNumbers = images[currentIndex].numbers;
                } else {
                    possibleNumbers = possibleNumbers.filter(num => images[currentIndex].numbers.includes(num));
                }
                showNextImage();
            });

            $("#no").click(function () {
                showNextImage();
            });

            $("#next").click(function () {
                showNextImage();
            });
        });
    </script>
</body>
</html>
